{% extends "fidelidade/base.html" %}
{% block title %}Resgatar Recompensa{% endblock %}

{% block content %}
<h1 class="mb-4 text-success">Resgatar Recompensa - {{ cliente.nome }}</h1>

<p>Pontos dispon√≠veis: <strong>{{ cliente.pontos|floatformat:2 }}</strong> 
(Equivalente a R$ {{ cliente.valor_reais|floatformat:2 }})</p>

<form method="post" class="card p-4 shadow-sm mt-3">
    {% csrf_token %}
    <div class="mb-3">
        <label for="recompensa" class="form-label">Selecione a Recompensa</label>
        <select name="recompensa" id="recompensa" class="form-select">
            {% for r in recompensas %}
            <option value="{{ r.id }}">
                {{ r.nome }} - {{ r.pontos_necessarios|floatformat:2 }} pontos
                (R$ {{ r.valor_reais|floatformat:2 }})
            </option>
            {% endfor %}
        </select>
    </div>
    <button type="submit" class="btn btn-success">Resgatar</button>
    <a href="{% url 'clientes_list' %}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}
